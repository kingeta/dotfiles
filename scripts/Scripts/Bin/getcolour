#! /usr/bin/bash

#COLOURSCHEME="$(cat ~/.Xresources | grep include | cut -d '"' -f 2 )"
COLOURSCHEME="$(cat ~/.Xresources | grep '#include' | cut -d '/' -f 3-5 | sed 's/..\/..\//~/g' | rev | cut -c 2- | rev)"

for i in {0..15}
do
    if [ $1 = $i ]; then
        echo $(cat $COLOURSCHEME | grep color"$1": | cut -d '#' -f 2) && exit 0
    fi
done
    

case $1 in
    foreground | fg)
        COLOUR=$(cat $COLOURSCHEME | grep foreground: | cut -d '#' -f 2)
        ;;
    background | bg)
        COLOUR=$(cat $COLOURSCHEME | grep background: | cut -d '#' -f 2)
        ;;
    *)
        COLOUR=$(cat $COLOURSCHEME | grep $1 | cut -d '#' -f 2)
        ;;
esac

echo $COLOUR && exit 0
